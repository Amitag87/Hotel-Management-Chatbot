# Hotel Management Chatbot

A serverless, multi-channel chatbot designed to automate and enhance the guest experience for a hotel. It handles reservations, service requests, and general inquiries via SMS and WhatsApp.

## üöÄ Features

- **Natural Language Understanding:** Powered by Amazon Lex to process guest intents from natural conversation.
- **Serverless Backend:** Uses AWS Lambda for robust, scalable backend logic without managing servers.
- **Multi-Channel Support:** Integrated with Twilio to communicate with guests on SMS and WhatsApp.
- **Core Functionalities:**
  - **Room Reservations:** Check availability and initiate the booking process.
  - **Service Requests:** Place orders for room service (e.g., food, towels).
  - **Check-in/Out Inquiries:** Provide information about check-in and check-out times and procedures.
  - **FAQ Handling:** Answer common questions about amenities (Wi-Fi, pool, gym).

## üèóÔ∏è Architecture

The system is built on AWS serverless components:
1.  **Twilio:** Receives messages from user devices (SMS/WhatsApp) and forwards them to the AWS backend via an API Gateway endpoint.
2.  **Amazon API Gateway:** Provides a secure HTTPs endpoint for Twilio to communicate with.
3.  **AWS Lambda:** Contains the business logic. It validates requests, interacts with Lex, and formats responses for Twilio.
4.  **Amazon Lex:** The brain of the chatbot. It uses NLP to understand user intent and slot values.
5.  **(Optional) Amazon DynamoDB:** Can be integrated with Lambda to persist booking data or user sessions.

## ‚öôÔ∏è Prerequisites

- An **AWS Account** with permissions for Lambda, Lex, API Gateway, and IAM.
- A **Twilio Account** with a purchased phone number capable of SMS and WhatsApp.
- **Python 3.8+** and **pip** (for local Lambda function development).
- The **AWS CLI** configured with your credentials.

## üõ†Ô∏è Deployment Steps

### 1. Create the Amazon Lex Bot
- Navigate to the Amazon Lex console.
- Create a new custom bot.
- **Specifications:**
  - **Bot name:** `HotelManagementBot`
  - **Language:** English (US)
  - **Output voice:** None
  - **Session timeout:** 5 min
  - **COPPA:** No
- Create the Intents and sample utterances as defined in the `lex/` directory.
- Build and publish the bot. Note the generated `alias`.

### 2. Create the Lambda Function
- Navigate to the AWS Lambda console.
- Create a new function from scratch.
- **Specifications:**
  - **Function name:** `hotel-chatbot-handler`
  - **Runtime:** Python 3.8
  - **Execution role:** Create a new role with basic Lambda permissions.
- Replace the default code with the contents of `lambda/lambda_function.py`.
- Add the Lex V2 client permission to the function's execution role.
- Add the required environment variables in the configuration:
  - `LEX_BOT_ID`: Your Lex Bot ID
  - `LEX_BOT_ALIAS_ID`: Your Lex Bot Alias ID
- Deploy the function.

### 3. Set up API Gateway
- Create a new HTTP API in the API Gateway console.
- Add a `POST` route, e.g., `/webhook`.
- Attach the integration to the `hotel-chatbot-handler` Lambda function.
- Note the public **Invoke URL** generated by API Gateway (e.g., `https://abc123.execute-api.us-east-1.amazonaws.com/`).

### 4. Configure Twilio
- In your Twilio console, go to your phone number's configuration.
- Under "A message comes in", set the Webhook for SMS and WhatsApp to:
  `[Your API Gateway Invoke URL]/webhook`
  - Ensure it's set to **HTTP POST**.



## üîç Testing

1.  **Test in Lex Console:** Use the built-in test window to validate your intents.
2.  **Test Lambda:** Use the AWS Lambda console to create a test event mimicking a Twilio payload.
3.  **End-to-End Test:** Send an SMS or WhatsApp message to your Twilio number. You should receive an automated response.

## üìã Sample Interactions

See `sample-interactions.md` for detailed examples of user-bot conversations.

## üîÆ Future Enhancements

- Integrate DynamoDB to store bookings and user data.
- Add confirmation messages via AWS SNS or Twilio's Verify API.
- Use Lex's built-in integration with Amazon Connect for live agent handoff.
- Implement sentiment analysis to detect and escalate frustrated guests.
